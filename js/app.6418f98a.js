(function(t){function n(n){for(var o,a,c=n[0],u=n[1],s=n[2],p=0,d=[];p<c.length;p++)a=c[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);l&&l(n);while(d.length)d.shift()();return r.push.apply(r,s||[]),e()}function e(){for(var t,n=0;n<r.length;n++){for(var e=r[n],o=!0,c=1;c<e.length;c++){var u=e[c];0!==i[u]&&(o=!1)}o&&(r.splice(n--,1),t=a(a.s=e[0]))}return t}var o={},i={app:0},r=[];function a(n){if(o[n])return o[n].exports;var e=o[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=o,a.d=function(t,n,e){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)a.d(e,o,function(n){return t[n]}.bind(null,o));return e},a.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="/vue-shopping/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=n,c=c.slice();for(var s=0;s<c.length;s++)n(c[s]);var l=u;r.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"56d7":function(t,n,e){"use strict";e.r(n);var o={};e.r(o),e.d(o,"getProfile",(function(){return wt})),e.d(o,"getProducts",(function(){return kt})),e.d(o,"getPromotions",(function(){return Ft})),e.d(o,"addToCart",(function(){return At})),e.d(o,"removeFromCart",(function(){return Lt})),e.d(o,"toggleCoupon",(function(){return Nt}));var i={};e.r(i),e.d(i,"cartProducts",(function(){return $t})),e.d(i,"itemsQuantity",(function(){return Gt})),e.d(i,"subtotal",(function(){return Vt})),e.d(i,"taxes",(function(){return qt})),e.d(i,"shipping",(function(){return Wt})),e.d(i,"total",(function(){return Qt})),e.d(i,"orderOnLimit",(function(){return Ut}));e("4de4"),e("e260"),e("e6cf"),e("cca6"),e("a79d");var r=e("2b0e"),a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("PageHeader"),e("Coupons"),e("div",{staticClass:"product-container"},[e("ShoppingCart"),e("ProductList")],1)],1)},c=[],u=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.profile.limit?e("nav",{staticClass:"app-navbar"},[e("span",{staticClass:"app-navbar__text"},[t._v(" Hello "),e("strong",[t._v(t._s(t.fullName))]),t._v(", your credit limit is "),e("ShoppingCartLimit",{attrs:{limit:t.profile.limit}})],1)]):t._e()},s=[],l=(e("99af"),e("5530")),p=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("strong",[t._v(t._s(t._f("formatMoney")(t.limit)))])},d=[],m=(e("a9e3"),{name:"ShoppingCartLimit",props:{limit:Number}}),f=m,g=e("2877"),v=Object(g["a"])(f,p,d,!1,null,null,null),_=v.exports,h=e("2f62"),b={name:"PageHeader",computed:Object(l["a"])(Object(l["a"])({},Object(h["d"])({profile:function(t){return t.profile.data}})),{},{fullName:function(){return"".concat(this.profile.firstName," ").concat(this.profile.lastName)}}),methods:Object(h["b"])(["getProfile"]),components:{ShoppingCartLimit:_},created:function(){this.getProfile()}},C=b,O=Object(g["a"])(C,u,s,!1,null,null,null),y=O.exports,j=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"coupon-container"},[e("h3",[t._v("Promotions")]),e("div",{staticClass:"coupon-button"},t._l(t.promotions,(function(n){return e("Toggle",{key:n.id,attrs:{data:n,action:t.toggleCoupon}})})),1)])},P=[],S=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("label",{staticClass:"custom-control-my custom-control-inline-my custom-checkbox-my"},[e("input",{staticClass:"custom-control-input-my",attrs:{type:"checkbox"},on:{change:function(n){return t.action(t.data)}}}),e("span",{staticClass:"custom-control-label-my"},[t._v(t._s(t.data.title))])])])},E=[],T={name:"Toggle",props:{data:Object,action:Function}},x=T,R=Object(g["a"])(x,S,E,!1,null,null,null),M=R.exports,D={name:"Coupons",computed:Object(h["d"])({promotions:function(t){return t.promotions.all}}),methods:Object(h["b"])(["getPromotions","toggleCoupon"]),components:{Toggle:M},created:function(){this.getPromotions()}},w=D,k=Object(g["a"])(w,j,P,!1,null,null,null),F=k.exports,A=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"product-list"},t._l(t.productRows,(function(t,n){return e("div",{key:n},[e("Product",{attrs:{product:t,"track-by":"id"}})],1)})),0)},L=[],N=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"product-card"},[e("figure",[e("img",{staticClass:"product-card__img",attrs:{src:t.product.img,"src-placeholder":"https://cdn-images-1.medium.com/max/80/1*xjGrvQSXvj72W4zD6IWzfg.jpeg"}})]),e("div",{staticClass:"product-card__info"},[e("h5",[t._v(t._s(t.product.title))]),e("p",[t._v(t._s(t._f("formatMoney")(t.product.price))+" - Stock: "+t._s(t.product.inventory))]),e("AddToCart",{attrs:{product:t.product}})],1)])},I=[],$=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("button",{staticClass:"product-btn",attrs:{type:"button",disabled:!t.product.inventory},on:{click:function(n){return t.addToCart(t.product)}}},[t._v(" Add to cart ")])},G=[],V={name:"AddToCart",props:{product:Object},methods:Object(h["b"])(["addToCart"])},q=V,W=Object(g["a"])(q,$,G,!1,null,null,null),Q=W.exports,U={name:"Product",props:{product:Object},components:{AddToCart:Q}},z=U,H=Object(g["a"])(z,N,I,!1,null,null,null),B=H.exports,J={name:"ProductList",computed:Object(h["d"])({productRows:function(t){return t.products.all}}),methods:Object(h["b"])(["getProducts"]),components:{Product:B},created:function(){this.getProducts()}},X=J,Y=Object(g["a"])(X,A,L,!1,null,null,null),Z=Y.exports,K=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"shopping-cart"},[e("h3",[t._v("Cart")]),t._l(t.items,(function(t){return e("ShoppingCartItem",{key:t.id,attrs:{item:t}})})),e("ShoppingCartSummary"),e("div",[e("button",{staticClass:"product-btn",attrs:{disabled:t.orderOnLimit},on:{click:t.buy}},[t._v(" Checkout ")]),t.orderOnLimit?e("p",[t._v("Order is over limit.")]):t._e()])],2)},tt=[],nt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"cart-item"},[e("div",[e("img",{staticClass:"vue-logo",attrs:{src:t.item.img,"src-placeholder":"https://cdn-images-1.medium.com/max/80/1*xjGrvQSXvj72W4zD6IWzfg.jpeg"}})]),e("div",{staticClass:"cart-item-body"},[e("strong",{staticClass:"cart-item-body__title"},[t._v(t._s(t.item.title))]),e("span",[t._v("Quantity: "+t._s(t.item.quantity)+" - "+t._s(t._f("formatMoney")(t.item.price)))])]),e("RemoveFromCart",{attrs:{product:t.item}})],1)},et=[],ot=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("button",{staticClass:"cart-close-button",attrs:{type:"button","aria-label":"Remove"},on:{click:function(n){return t.removeFromCart(t.product)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])},it=[],rt={name:"RemoveFromCart",props:{product:Object},methods:Object(h["b"])(["removeFromCart"])},at=rt,ct=Object(g["a"])(at,ot,it,!1,null,null,null),ut=ct.exports,st={name:"ShoppingCartItem",props:{item:Object},components:{RemoveFromCart:ut}},lt=st,pt=Object(g["a"])(lt,nt,et,!1,null,null,null),dt=pt.exports,mt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ul",{staticClass:"list-group-my"},[e("li",{staticClass:"list-group-item-my"},[t._v(" Subtotal ("+t._s(t.itemsQuantity)+" "+t._s(t._f("pluralize")("item",t.itemsQuantity))+"): "+t._s(t._f("formatMoney")(t.subtotal))+" "),t.productDiscount?e("em",[e("b",[t._v("(30% OFF applied)")])]):t._e()]),e("li",{staticClass:"list-group-item-my"},[t._v(" Shipping: "),t.freeShipping?t._e():e("span",[t._v(t._s(t._f("formatMoney")(t.shipping)))]),t.freeShipping?e("em",[t._v("Free Shipping")]):t._e()]),e("li",{staticClass:"list-group-item-my"},[t._v("Taxes: "+t._s(t._f("formatMoney")(t.taxes)))]),e("li",{staticClass:"list-group-item-my"},[e("strong",[t._v("Total:")]),t.totalDiscount?t._e():e("strong",[t._v(t._s(t._f("formatMoney")(t.total)))]),t.totalDiscount?e("span",[e("strike",[t._v(t._s(t._f("formatMoney")(t.total+100)))]),e("strong",[t._v(t._s(t._f("formatMoney")(t.totalWithDiscount)))])],1):t._e()])])},ft=[],gt={name:"ShoppingCartSummary",computed:Object(l["a"])(Object(l["a"])(Object(l["a"])({},Object(h["c"])(["itemsQuantity","subtotal","taxes","shipping","total"])),Object(h["d"])({productDiscount:function(t){return t.shoppingCart.productDiscount},freeShipping:function(t){return t.shoppingCart.freeShipping},totalDiscount:function(t){return t.shoppingCart.totalDiscount}})),{},{totalWithDiscount:function(){var t=this.$store.getters.total;return t>0?this.total:0}})},vt=gt,_t=Object(g["a"])(vt,mt,ft,!1,null,null,null),ht=_t.exports,bt={name:"ShoppingCart",computed:Object(h["c"])({items:"cartProducts",orderOnLimit:"orderOnLimit"}),components:{ShoppingCartItem:dt,ShoppingCartSummary:ht},methods:{buy:function(){window.alert("You've bought it :)"),window.location.reload()}}},Ct=bt,Ot=Object(g["a"])(Ct,K,tt,!1,null,null,null),yt=Ot.exports,jt={name:"App",components:{PageHeader:y,Coupons:F,ProductList:Z,ShoppingCart:yt}},Pt=jt,St=Object(g["a"])(Pt,a,c,!1,null,null,null),Et=St.exports,Tt=e("9483");Object(Tt["a"])("".concat("/vue-shopping/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var xt={firstName:"Joe",lastName:"Montana",limit:850},Rt=[{img:"https://i.imgur.com/TTBZnDi.jpg",id:1,title:"iPad 4 Mini",price:500.01,inventory:2,shipping:15},{img:"https://i.imgur.com/dGnawoA.jpg",id:2,title:"H&M T-Shirt White",price:10.99,inventory:10,shipping:5},{img:"https://i.imgur.com/eWXNC7Y.jpg",id:3,title:"Android one",price:19.99,inventory:3,shipping:22.5},{img:"https://i.imgur.com/C2y7R2V.jpg",id:4,title:"Canon DSLR",price:834.99,inventory:5,shipping:9},{img:"https://i.imgur.com/xoZhhfU.jpg",id:5,title:"MacBook Pro",price:487,inventory:1,shipping:35},{img:"https://i.imgur.com/BSddd5y.jpg",id:6,title:"Silver Headphones",price:959.59,inventory:6,shipping:11}],Mt=[{id:1,title:"30% OFF"},{id:2,title:"$100.00 Discount"},{id:3,title:"Free Shipping"},{id:4,title:"+ $100.00 on limit"}],Dt={getProfile:function(t){setTimeout((function(){return t(xt)}),200)},getProducts:function(t){setTimeout((function(){return t(Rt)}),200)},getPromotions:function(t){setTimeout((function(){return t(Mt)}),200)}},wt=function(t){var n=t.commit;Dt.getProfile((function(t){n("RECEIVE_PROFILE",t)}))},kt=function(t){var n=t.commit;Dt.getProducts((function(t){n("RECEIVE_PRODUCTS",t)}))},Ft=function(t){var n=t.commit;Dt.getPromotions((function(t){n("RECEIVE_PROMOTIONS",t)}))},At=function(t,n){var e=t.commit;n.inventory>0&&e("ADD_TO_CART",n.id)},Lt=function(t,n){var e=t.commit;e("REMOVE_FROM_CART",n)},Nt=function(t,n){var e=t.commit;e("TOGGLE_COUPON",n)},It=(e("7db0"),e("d81d"),e("13d5"),e("2909")),$t=function(t){return t.shoppingCart.added.map((function(n){var e=n.id,o=n.quantity,i=t.products.all.find((function(t){return t.id===e}));return Object(l["a"])(Object(l["a"])({},i),{},{quantity:o})}))},Gt=function(t){return $t(t).reduce((function(t,n){return t+n.quantity}),0)},Vt=function(t){var n=$t(t).reduce((function(t,n){return t+n.price*n.quantity}),0);return t.shoppingCart.productDiscount?.7*n:n},qt=function(t){return.005*Vt(t)},Wt=function(t){var n=$t(t).map((function(t){return t.shipping}));return t.shoppingCart.freeShipping||!n.length?0:Math.max.apply(Math,Object(It["a"])(n))},Qt=function(t){var n=t.shoppingCart.totalDiscount?-100:0;return Vt(t)+qt(t)+Wt(t)+n},Ut=function(t){return t.profile.data.limit<=Qt(t)},zt={all:[]},Ht={RECEIVE_PRODUCTS:function(t,n){t.all=n},ADD_TO_CART:function(t,n){t.all.find((function(t){return t.id===n})).inventory--},REMOVE_FROM_CART:function(t,n){t.all.find((function(t){return t.id===n.id})).inventory+=n.quantity}},Bt={state:zt,mutations:Ht},Jt={data:{}},Xt={RECEIVE_PROFILE:function(t,n){t.data=n},TOGGLE_COUPON:function(t,n){var e=4;n.id===e&&(n.active?t.data.limit-=100:t.data.limit+=100)}},Yt={state:Jt,mutations:Xt},Zt={all:[]},Kt={RECEIVE_PROMOTIONS:function(t,n){t.all=n},TOGGLE_COUPON:function(t,n){n.active=!n.active}},tn={state:Zt,mutations:Kt},nn=(e("c740"),e("a434"),{added:[],productDiscount:!1,totalDiscount:!1,freeShipping:!1}),en={ADD_TO_CART:function(t,n){var e=t.added.find((function(t){return t.id===n}));e?e.quantity++:t.added.push({id:n,quantity:1})},REMOVE_FROM_CART:function(t,n){var e=t.added.findIndex((function(t){return t.id===n.id}));t.added.splice(e,1)},TOGGLE_COUPON:function(t,n){var e={1:"productDiscount",2:"totalDiscount",3:"freeShipping"};e[n.id]&&(t[e[n.id]]=!t[e[n.id]])}},on={state:nn,mutations:en};r["a"].use(h["a"]);var rn=!1,an=new h["a"].Store({actions:o,getters:i,modules:{products:Bt,profile:Yt,promotions:tn,shoppingCart:on},strict:rn}),cn=e("f545"),un=e.n(cn),sn=e("761a"),ln=e.n(sn);e("fb19");r["a"].config.productionTip=!1,r["a"].filter("formatMoney",un.a.formatMoney),r["a"].filter("pluralize",ln.a),new r["a"]({store:an,render:function(t){return t(Et)}}).$mount("#app")},fb19:function(t,n,e){}});
//# sourceMappingURL=app.6418f98a.js.map